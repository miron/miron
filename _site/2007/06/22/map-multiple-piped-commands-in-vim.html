If you want to map multiple commands in vim do it like this:

nmap &lt;F1&gt; :w\|!ruby %&lt;CR&gt;

imap &lt;F1&gt; &lt;Esc&gt;:w\|!ruby %&lt;CR&gt;

This writes the actual file to disk and  evaluates it through the ruby interpreter when you hit the F1-key.

Alternatively you can do a:

:nmap &lt;F1&gt; :w\|rubyf %&lt;CR&gt;   (no space after the %)

:imap &lt;F1&gt; &lt;Esc&gt;:w\|rubyf %&lt;CR&gt;

which should be faster, condition is you have to build vim with ruby support,  but sometimes i get no results with this , vim gets crashed or does not respond anymore to me...

This mappings work both in insert- and command-mode
<p style="font-size:10px;text-align:right;">technorati tags:<a href="http://technorati.com/tag/vim" rel="tag">vim</a>, <a href="http://technorati.com/tag/ruby" rel="tag">ruby</a>, <a href="http://technorati.com/tag/map" rel="tag">map</a>, <a href="http://technorati.com/tag/pipe" rel="tag">pipe</a>, <a href="http://technorati.com/tag/multiple" rel="tag">multiple</a></p>
